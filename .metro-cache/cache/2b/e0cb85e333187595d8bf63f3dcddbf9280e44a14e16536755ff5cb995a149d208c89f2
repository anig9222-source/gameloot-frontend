{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":12,"column":0,"index":399},"end":{"line":12,"column":89,"index":488}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":13,"column":0,"index":489},"end":{"line":13,"column":69,"index":558}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AdRevenueContext.tsx\";\n  /**\n   * AdRevenue Context - Track WIN Tokens from AdSense\n   * \n   * WIN Token System:\n   * - Backend generates USD revenue from ads ($0.40 - $1.20 per ad)\n   * - 60% of USD revenue is converted to WIN tokens (60 WIN per $1 USD)\n   * - WIN tokens are locked until KYC verification (15 days, $0.40/day avg, 10 referrals)\n   * \n   * Example: User earns $1.00 from ad â†’ receives 60 WIN tokens â†’ locked until KYC\n   */\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AdRevenueProvider\", {\n    enumerable: true,\n    get: function () {\n      return AdRevenueProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAdRevenue\", {\n    enumerable: true,\n    get: function () {\n      return useAdRevenue;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _reactJsxDevRuntime = require(_dependencyMap[2], \"react/jsx-dev-runtime\");\n  const AdRevenueContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AdRevenueProvider = ({\n    children\n  }) => {\n    const [totalWinTokens, setTotalWinTokens] = (0, _react.useState)(0);\n    const [todayWinTokens, setTodayWinTokens] = (0, _react.useState)(0);\n    const [adsWatched, setAdsWatched] = (0, _react.useState)(0);\n    const [lastResetDate, setLastResetDate] = (0, _react.useState)('');\n    (0, _react.useEffect)(() => {\n      loadRevenue();\n      checkDailyReset();\n    }, []);\n    const loadRevenue = async () => {\n      try {\n        const total = await AsyncStorage.default.getItem('win_tokens_total');\n        const today = await AsyncStorage.default.getItem('win_tokens_today');\n        const watched = await AsyncStorage.default.getItem('ads_watched');\n        const resetDate = await AsyncStorage.default.getItem('last_reset_date');\n        if (total) setTotalWinTokens(parseFloat(total));\n        if (today) setTodayWinTokens(parseFloat(today));\n        if (watched) setAdsWatched(parseInt(watched));\n        if (resetDate) setLastResetDate(resetDate);\n      } catch (error) {\n        console.error('Error loading WIN tokens:', error);\n      }\n    };\n    const checkDailyReset = async () => {\n      const today = new Date().toDateString();\n      const lastReset = await AsyncStorage.default.getItem('last_reset_date');\n      if (lastReset !== today) {\n        resetDaily();\n      }\n    };\n    const addWinTokens = async (tokens, type) => {\n      try {\n        const newTotal = totalWinTokens + tokens;\n        const newToday = todayWinTokens + tokens;\n        const newWatched = type === 'modal' ? adsWatched + 1 : adsWatched;\n        setTotalWinTokens(newTotal);\n        setTodayWinTokens(newToday);\n        setAdsWatched(newWatched);\n        await AsyncStorage.default.setItem('win_tokens_total', newTotal.toString());\n        await AsyncStorage.default.setItem('win_tokens_today', newToday.toString());\n        await AsyncStorage.default.setItem('ads_watched', newWatched.toString());\n        console.log(`ðŸ’° [WIN] +${tokens} WIN (${type}) | Total: ${newTotal} WIN`);\n      } catch (error) {\n        console.error('Error adding WIN tokens:', error);\n      }\n    };\n    const resetDaily = async () => {\n      try {\n        const today = new Date().toDateString();\n        setTodayWinTokens(0);\n        setLastResetDate(today);\n        await AsyncStorage.default.setItem('win_tokens_today', '0');\n        await AsyncStorage.default.setItem('last_reset_date', today);\n        console.log('ðŸ”„ [WIN] Daily stats reset');\n      } catch (error) {\n        console.error('Error resetting daily:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AdRevenueContext.Provider, {\n      value: {\n        totalWinTokens,\n        todayWinTokens,\n        adsWatched,\n        addWinTokens,\n        resetDaily\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 5\n    }, this);\n  };\n  const useAdRevenue = () => {\n    const context = (0, _react.useContext)(AdRevenueContext);\n    if (!context) {\n      throw new Error('useAdRevenue must be used within AdRevenueProvider');\n    }\n    return context;\n  };\n});","lineCount":122,"map":[[5,2,1,0],[6,0,2,0],[7,0,3,0],[8,0,4,0],[9,0,5,0],[10,0,6,0],[11,0,7,0],[12,0,8,0],[13,0,9,0],[14,0,10,0],[15,2,1,0,"Object"],[15,8,1,0],[15,9,1,0,"defineProperty"],[15,23,1,0],[15,24,1,0,"exports"],[15,31,1,0],[16,4,1,0,"value"],[16,9,1,0],[17,2,1,0],[18,2,1,0],[18,11,1,0,"_interopDefault"],[18,27,1,0,"e"],[18,28,1,0],[19,4,1,0],[19,11,1,0,"e"],[19,12,1,0],[19,16,1,0,"e"],[19,17,1,0],[19,18,1,0,"__esModule"],[19,28,1,0],[19,31,1,0,"e"],[19,32,1,0],[20,6,1,0,"default"],[20,13,1,0],[20,15,1,0,"e"],[21,4,1,0],[22,2,1,0],[23,2,25,0,"Object"],[23,8,25,0],[23,9,25,0,"defineProperty"],[23,23,25,0],[23,24,25,0,"exports"],[23,31,25,0],[24,4,25,0,"enumerable"],[24,14,25,0],[25,4,25,0,"get"],[25,7,25,0],[25,18,25,0,"get"],[25,19,25,0],[26,6,25,0],[26,13,25,0,"AdRevenueProvider"],[26,30,25,0],[27,4,25,0],[28,2,25,0],[29,2,111,0,"Object"],[29,8,111,0],[29,9,111,0,"defineProperty"],[29,23,111,0],[29,24,111,0,"exports"],[29,31,111,0],[30,4,111,0,"enumerable"],[30,14,111,0],[31,4,111,0,"get"],[31,7,111,0],[31,18,111,0,"get"],[31,19,111,0],[32,6,111,0],[32,13,111,0,"useAdRevenue"],[32,25,111,0],[33,4,111,0],[34,2,111,0],[35,2,12,0],[35,6,12,0,"_react"],[35,12,12,0],[35,15,12,0,"require"],[35,22,12,0],[35,23,12,0,"_dependencyMap"],[35,37,12,0],[36,2,13,0],[36,6,13,0,"_reactNativeAsyncStorageAsyncStorage"],[36,42,13,0],[36,45,13,0,"require"],[36,52,13,0],[36,53,13,0,"_dependencyMap"],[36,67,13,0],[37,2,13,0],[37,6,13,0,"AsyncStorage"],[37,18,13,0],[37,21,13,0,"_interopDefault"],[37,36,13,0],[37,37,13,0,"_reactNativeAsyncStorageAsyncStorage"],[37,73,13,0],[38,2,13,69],[38,6,13,69,"_reactJsxDevRuntime"],[38,25,13,69],[38,28,13,69,"require"],[38,35,13,69],[38,36,13,69,"_dependencyMap"],[38,50,13,69],[39,2,23,0],[39,8,23,6,"AdRevenueContext"],[39,24,23,22],[39,40,23,25],[39,44,23,25,"createContext"],[39,50,23,38],[39,51,23,38,"createContext"],[39,64,23,38],[39,66,23,73,"undefined"],[39,75,23,82],[39,76,23,83],[40,2,25,7],[40,8,25,13,"AdRevenueProvider"],[40,25,25,65],[40,28,25,68,"AdRevenueProvider"],[40,29,25,69],[41,4,25,71,"children"],[42,2,25,80],[42,3,25,81],[42,8,25,86],[43,4,26,2],[43,10,26,8],[43,11,26,9,"totalWinTokens"],[43,25,26,23],[43,27,26,25,"setTotalWinTokens"],[43,44,26,42],[43,45,26,43],[43,48,26,46],[43,52,26,46,"useState"],[43,58,26,54],[43,59,26,54,"useState"],[43,67,26,54],[43,69,26,55],[43,70,26,56],[43,71,26,57],[44,4,27,2],[44,10,27,8],[44,11,27,9,"todayWinTokens"],[44,25,27,23],[44,27,27,25,"setTodayWinTokens"],[44,44,27,42],[44,45,27,43],[44,48,27,46],[44,52,27,46,"useState"],[44,58,27,54],[44,59,27,54,"useState"],[44,67,27,54],[44,69,27,55],[44,70,27,56],[44,71,27,57],[45,4,28,2],[45,10,28,8],[45,11,28,9,"adsWatched"],[45,21,28,19],[45,23,28,21,"setAdsWatched"],[45,36,28,34],[45,37,28,35],[45,40,28,38],[45,44,28,38,"useState"],[45,50,28,46],[45,51,28,46,"useState"],[45,59,28,46],[45,61,28,47],[45,62,28,48],[45,63,28,49],[46,4,29,2],[46,10,29,8],[46,11,29,9,"lastResetDate"],[46,24,29,22],[46,26,29,24,"setLastResetDate"],[46,42,29,40],[46,43,29,41],[46,46,29,44],[46,50,29,44,"useState"],[46,56,29,52],[46,57,29,52,"useState"],[46,65,29,52],[46,67,29,61],[46,69,29,63],[46,70,29,64],[47,4,31,2],[47,8,31,2,"useEffect"],[47,14,31,11],[47,15,31,11,"useEffect"],[47,24,31,11],[47,26,31,12],[47,32,31,18],[48,6,32,4,"loadRevenue"],[48,17,32,15],[48,18,32,16],[48,19,32,17],[49,6,33,4,"checkDailyReset"],[49,21,33,19],[49,22,33,20],[49,23,33,21],[50,4,34,2],[50,5,34,3],[50,7,34,5],[50,9,34,7],[50,10,34,8],[51,4,36,2],[51,10,36,8,"loadRevenue"],[51,21,36,19],[51,24,36,22],[51,30,36,22,"loadRevenue"],[51,31,36,22],[51,36,36,34],[52,6,37,4],[52,10,37,8],[53,8,38,6],[53,14,38,12,"total"],[53,19,38,17],[53,22,38,20],[53,28,38,26,"AsyncStorage"],[53,40,38,38],[53,41,38,38,"default"],[53,48,38,38],[53,49,38,39,"getItem"],[53,56,38,46],[53,57,38,47],[53,75,38,65],[53,76,38,66],[54,8,39,6],[54,14,39,12,"today"],[54,19,39,17],[54,22,39,20],[54,28,39,26,"AsyncStorage"],[54,40,39,38],[54,41,39,38,"default"],[54,48,39,38],[54,49,39,39,"getItem"],[54,56,39,46],[54,57,39,47],[54,75,39,65],[54,76,39,66],[55,8,40,6],[55,14,40,12,"watched"],[55,21,40,19],[55,24,40,22],[55,30,40,28,"AsyncStorage"],[55,42,40,40],[55,43,40,40,"default"],[55,50,40,40],[55,51,40,41,"getItem"],[55,58,40,48],[55,59,40,49],[55,72,40,62],[55,73,40,63],[56,8,41,6],[56,14,41,12,"resetDate"],[56,23,41,21],[56,26,41,24],[56,32,41,30,"AsyncStorage"],[56,44,41,42],[56,45,41,42,"default"],[56,52,41,42],[56,53,41,43,"getItem"],[56,60,41,50],[56,61,41,51],[56,78,41,68],[56,79,41,69],[57,8,43,6],[57,12,43,10,"total"],[57,17,43,15],[57,19,43,17,"setTotalWinTokens"],[57,36,43,34],[57,37,43,35,"parseFloat"],[57,47,43,45],[57,48,43,46,"total"],[57,53,43,51],[57,54,43,52],[57,55,43,53],[58,8,44,6],[58,12,44,10,"today"],[58,17,44,15],[58,19,44,17,"setTodayWinTokens"],[58,36,44,34],[58,37,44,35,"parseFloat"],[58,47,44,45],[58,48,44,46,"today"],[58,53,44,51],[58,54,44,52],[58,55,44,53],[59,8,45,6],[59,12,45,10,"watched"],[59,19,45,17],[59,21,45,19,"setAdsWatched"],[59,34,45,32],[59,35,45,33,"parseInt"],[59,43,45,41],[59,44,45,42,"watched"],[59,51,45,49],[59,52,45,50],[59,53,45,51],[60,8,46,6],[60,12,46,10,"resetDate"],[60,21,46,19],[60,23,46,21,"setLastResetDate"],[60,39,46,37],[60,40,46,38,"resetDate"],[60,49,46,47],[60,50,46,48],[61,6,47,4],[61,7,47,5],[61,8,47,6],[61,15,47,13,"error"],[61,20,47,18],[61,22,47,20],[62,8,48,6,"console"],[62,15,48,13],[62,16,48,14,"error"],[62,21,48,19],[62,22,48,20],[62,49,48,47],[62,51,48,49,"error"],[62,56,48,54],[62,57,48,55],[63,6,49,4],[64,4,50,2],[64,5,50,3],[65,4,52,2],[65,10,52,8,"checkDailyReset"],[65,25,52,23],[65,28,52,26],[65,34,52,26,"checkDailyReset"],[65,35,52,26],[65,40,52,38],[66,6,53,4],[66,12,53,10,"today"],[66,17,53,15],[66,20,53,18],[66,24,53,22,"Date"],[66,28,53,26],[66,29,53,27],[66,30,53,28],[66,31,53,29,"toDateString"],[66,43,53,41],[66,44,53,42],[66,45,53,43],[67,6,54,4],[67,12,54,10,"lastReset"],[67,21,54,19],[67,24,54,22],[67,30,54,28,"AsyncStorage"],[67,42,54,40],[67,43,54,40,"default"],[67,50,54,40],[67,51,54,41,"getItem"],[67,58,54,48],[67,59,54,49],[67,76,54,66],[67,77,54,67],[68,6,56,4],[68,10,56,8,"lastReset"],[68,19,56,17],[68,24,56,22,"today"],[68,29,56,27],[68,31,56,29],[69,8,57,6,"resetDaily"],[69,18,57,16],[69,19,57,17],[69,20,57,18],[70,6,58,4],[71,4,59,2],[71,5,59,3],[72,4,61,2],[72,10,61,8,"addWinTokens"],[72,22,61,20],[72,25,61,23],[72,31,61,23,"addWinTokens"],[72,32,61,30,"tokens"],[72,38,61,44],[72,40,61,46,"type"],[72,44,61,81],[72,49,61,86],[73,6,62,4],[73,10,62,8],[74,8,63,6],[74,14,63,12,"newTotal"],[74,22,63,20],[74,25,63,23,"totalWinTokens"],[74,39,63,37],[74,42,63,40,"tokens"],[74,48,63,46],[75,8,64,6],[75,14,64,12,"newToday"],[75,22,64,20],[75,25,64,23,"todayWinTokens"],[75,39,64,37],[75,42,64,40,"tokens"],[75,48,64,46],[76,8,65,6],[76,14,65,12,"newWatched"],[76,24,65,22],[76,27,65,25,"type"],[76,31,65,29],[76,36,65,34],[76,43,65,41],[76,46,65,44,"adsWatched"],[76,56,65,54],[76,59,65,57],[76,60,65,58],[76,63,65,61,"adsWatched"],[76,73,65,71],[77,8,67,6,"setTotalWinTokens"],[77,25,67,23],[77,26,67,24,"newTotal"],[77,34,67,32],[77,35,67,33],[78,8,68,6,"setTodayWinTokens"],[78,25,68,23],[78,26,68,24,"newToday"],[78,34,68,32],[78,35,68,33],[79,8,69,6,"setAdsWatched"],[79,21,69,19],[79,22,69,20,"newWatched"],[79,32,69,30],[79,33,69,31],[80,8,71,6],[80,14,71,12,"AsyncStorage"],[80,26,71,24],[80,27,71,24,"default"],[80,34,71,24],[80,35,71,25,"setItem"],[80,42,71,32],[80,43,71,33],[80,61,71,51],[80,63,71,53,"newTotal"],[80,71,71,61],[80,72,71,62,"toString"],[80,80,71,70],[80,81,71,71],[80,82,71,72],[80,83,71,73],[81,8,72,6],[81,14,72,12,"AsyncStorage"],[81,26,72,24],[81,27,72,24,"default"],[81,34,72,24],[81,35,72,25,"setItem"],[81,42,72,32],[81,43,72,33],[81,61,72,51],[81,63,72,53,"newToday"],[81,71,72,61],[81,72,72,62,"toString"],[81,80,72,70],[81,81,72,71],[81,82,72,72],[81,83,72,73],[82,8,73,6],[82,14,73,12,"AsyncStorage"],[82,26,73,24],[82,27,73,24,"default"],[82,34,73,24],[82,35,73,25,"setItem"],[82,42,73,32],[82,43,73,33],[82,56,73,46],[82,58,73,48,"newWatched"],[82,68,73,58],[82,69,73,59,"toString"],[82,77,73,67],[82,78,73,68],[82,79,73,69],[82,80,73,70],[83,8,75,6,"console"],[83,15,75,13],[83,16,75,14,"log"],[83,19,75,17],[83,20,75,18],[83,33,75,31,"tokens"],[83,39,75,37],[83,48,75,46,"type"],[83,52,75,50],[83,66,75,64,"newTotal"],[83,74,75,72],[83,80,75,78],[83,81,75,79],[84,6,76,4],[84,7,76,5],[84,8,76,6],[84,15,76,13,"error"],[84,20,76,18],[84,22,76,20],[85,8,77,6,"console"],[85,15,77,13],[85,16,77,14,"error"],[85,21,77,19],[85,22,77,20],[85,48,77,46],[85,50,77,48,"error"],[85,55,77,53],[85,56,77,54],[86,6,78,4],[87,4,79,2],[87,5,79,3],[88,4,81,2],[88,10,81,8,"resetDaily"],[88,20,81,18],[88,23,81,21],[88,29,81,21,"resetDaily"],[88,30,81,21],[88,35,81,33],[89,6,82,4],[89,10,82,8],[90,8,83,6],[90,14,83,12,"today"],[90,19,83,17],[90,22,83,20],[90,26,83,24,"Date"],[90,30,83,28],[90,31,83,29],[90,32,83,30],[90,33,83,31,"toDateString"],[90,45,83,43],[90,46,83,44],[90,47,83,45],[91,8,84,6,"setTodayWinTokens"],[91,25,84,23],[91,26,84,24],[91,27,84,25],[91,28,84,26],[92,8,85,6,"setLastResetDate"],[92,24,85,22],[92,25,85,23,"today"],[92,30,85,28],[92,31,85,29],[93,8,87,6],[93,14,87,12,"AsyncStorage"],[93,26,87,24],[93,27,87,24,"default"],[93,34,87,24],[93,35,87,25,"setItem"],[93,42,87,32],[93,43,87,33],[93,61,87,51],[93,63,87,53],[93,66,87,56],[93,67,87,57],[94,8,88,6],[94,14,88,12,"AsyncStorage"],[94,26,88,24],[94,27,88,24,"default"],[94,34,88,24],[94,35,88,25,"setItem"],[94,42,88,32],[94,43,88,33],[94,60,88,50],[94,62,88,52,"today"],[94,67,88,57],[94,68,88,58],[95,8,90,6,"console"],[95,15,90,13],[95,16,90,14,"log"],[95,19,90,17],[95,20,90,18],[95,48,90,46],[95,49,90,47],[96,6,91,4],[96,7,91,5],[96,8,91,6],[96,15,91,13,"error"],[96,20,91,18],[96,22,91,20],[97,8,92,6,"console"],[97,15,92,13],[97,16,92,14,"error"],[97,21,92,19],[97,22,92,20],[97,46,92,44],[97,48,92,46,"error"],[97,53,92,51],[97,54,92,52],[98,6,93,4],[99,4,94,2],[99,5,94,3],[100,4,96,2],[100,24,97,4],[100,28,97,4,"_reactJsxDevRuntime"],[100,47,97,4],[100,48,97,4,"jsxDEV"],[100,54,97,4],[100,56,97,5,"AdRevenueContext"],[100,72,97,21],[100,73,97,22,"Provider"],[100,81,97,30],[101,6,98,6,"value"],[101,11,98,11],[101,13,98,13],[102,8,99,8,"totalWinTokens"],[102,22,99,22],[103,8,100,8,"todayWinTokens"],[103,22,100,22],[104,8,101,8,"adsWatched"],[104,18,101,18],[105,8,102,8,"addWinTokens"],[105,20,102,20],[106,8,103,8,"resetDaily"],[107,6,104,6],[107,7,104,8],[108,6,104,8,"children"],[108,14,104,8],[108,16,106,7,"children"],[109,4,106,15],[110,6,106,15,"fileName"],[110,14,106,15],[110,16,106,15,"_jsxFileName"],[110,28,106,15],[111,6,106,15,"lineNumber"],[111,16,106,15],[112,6,106,15,"columnNumber"],[112,18,106,15],[113,4,106,15],[113,11,107,31],[113,12,107,32],[114,2,109,0],[114,3,109,1],[115,2,111,7],[115,8,111,13,"useAdRevenue"],[115,20,111,25],[115,23,111,28,"useAdRevenue"],[115,24,111,28],[115,29,111,34],[116,4,112,2],[116,10,112,8,"context"],[116,17,112,15],[116,20,112,18],[116,24,112,18,"useContext"],[116,30,112,28],[116,31,112,28,"useContext"],[116,41,112,28],[116,43,112,29,"AdRevenueContext"],[116,59,112,45],[116,60,112,46],[117,4,113,2],[117,8,113,6],[117,9,113,7,"context"],[117,16,113,14],[117,18,113,16],[118,6,114,4],[118,12,114,10],[118,16,114,14,"Error"],[118,21,114,19],[118,22,114,20],[118,74,114,72],[118,75,114,73],[119,4,115,2],[120,4,116,2],[120,11,116,9,"context"],[120,18,116,16],[121,2,117,0],[121,3,117,1],[122,0,117,2],[122,3]],"functionMap":{"names":["<global>","AdRevenueProvider","useEffect$argument_0","loadRevenue","checkDailyReset","addWinTokens","resetDaily","useAdRevenue"],"mappings":"AAA;oECwB;YCM;GDG;sBEE;GFc;0BGE;GHO;uBIE;GJkB;qBKE;GLa;CDe;4BOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}